@model IEnumerable<WebNhaHang.Models.Location>

@{
    ViewData["Title"] = "Chi Nhánh - Locations";
}

@await Html.PartialAsync("_Hero", new HeroViewModel
{
    Title = "Chi Nhánh COCÔTTE",
    Subtitle = "Khám phá các địa điểm của chúng tôi tại Sài Gòn",
    BackgroundImageUrl = "/images/hero/locations-hero.jpg"
})

<div class="container mx-auto px-4 py-16">
    <div class="text-center mb-12">
        <h2 class="text-4xl font-bold text-gray-800 mb-4">Hệ Thống Chi Nhánh</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">
            COCÔTTE hiện có 3 chi nhánh tại Thành phố Hồ Chí Minh, mỗi địa điểm mang một nét đặc trưng riêng nhưng đều cam kết mang đến trải nghiệm ẩm thực Pháp tuyệt vời nhất.
        </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        @foreach (var location in Model)
        {
            <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                <div class="h-64 bg-gray-200 overflow-hidden">
                    @if (!string.IsNullOrEmpty(location.ImageUrl))
                    {
                        <img src="@location.ImageUrl" alt="@location.Name" class="w-full h-full object-cover" onerror="this.src='/images/placeholder.jpg'">
                    }
                    else
                    {
                        <div class="w-full h-full flex items-center justify-center bg-gray-300">
                            <span class="text-gray-500 text-lg">@location.Name</span>
                        </div>
                    }
                </div>

                <div class="p-6">
                    <h3 class="text-2xl font-bold text-gray-800 mb-3">@location.Name</h3>

                    <div class="space-y-2 text-gray-600 mb-4">
                        <div class="flex items-start">
                            <svg class="w-5 h-5 mr-2 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                            <span>@location.Address, @location.City</span>
                        </div>

                        <div class="flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            <span>@location.Phone</span>
                        </div>

                        <div class="flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            <span>@location.OpeningTime.ToString(@"hh\:mm") - @location.ClosingTime.ToString(@"hh\:mm")</span>
                        </div>
                    </div>

                    <p class="text-gray-600 mb-4 line-clamp-3">@location.Description</p>

                    <div class="flex gap-2">
                        <a asp-action="Detail" asp-route-id="@location.Id" class="flex-1 bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700 transition text-center">
                            Chi tiết
                        </a>
                        <a asp-controller="Reservation" asp-action="Index" class="flex-1 bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition text-center">
                            Đặt bàn
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>

    <!-- Map Section -->
    <div class="mt-16">
        <h3 class="text-3xl font-bold text-gray-800 mb-8 text-center">Tìm Chúng Tôi Trên Bản Đồ</h3>
        <div class="bg-gray-200 rounded-lg overflow-hidden" style="height: 400px;">
            <div class="w-full h-full flex items-center justify-center text-gray-500">
                <p>Google Maps Integration Here</p>
            </div>
        </div>
    </div>
</div>
